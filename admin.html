<script>
function sendData(action) {
  const nama = document.getElementById("nama").value;
  const staffid = document.getElementById("staffid").value;
  
  if (!nama || !staffid) {
    alert("Please enter your Name and Staff ID first!");
    return;
  }
  
  const bodyData = {
    nama: nama,
    staffid: staffid,
    action: action,
    timestamp: new Date().toISOString()
  };

  fetch("https://api.sheetbest.com/sheets/a34b2f38-cd4d-4b91-8306-30b3daa64be7", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(bodyData)
  })
  .then(response => {
    if (response.ok) {
      alert(action + " recorded successfully!");
    } else {
      alert("Failed to record " + action);
    }
  })
  .catch(error => {
    alert("Error recording " + action);
    console.error(error);
  });
}
</script>
